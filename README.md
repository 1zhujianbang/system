# README.md

# [å¸‚åœºé€é•œ - Market Lens](https://github.com/1zhujianbang/MarketLens)

åŸºäºå…¨çƒå¸‚åœºæ•°æ®å’Œæ–°é—»èµ„è®¯æ„å»ºçš„æ™ºèƒ½æ„ŸçŸ¥ä¸å†³ç­–ç³»ç»Ÿï¼Œé€šè¿‡çŸ¥è¯†å›¾è°±å’Œå¤šæ™ºèƒ½ä½“åä½œå®ç°ä»"ä¿¡æ¯â†’è®¤çŸ¥â†’è¡ŒåŠ¨"çš„é—­ç¯ã€‚

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªå…¨çƒå¸‚åœºçš„æ™ºèƒ½æ„ŸçŸ¥ä¸å†³ç­–ç³»ç»Ÿï¼Œé€šè¿‡èåˆå®æ—¶å’Œå†å²æ–°é—»ï¼ˆæ¶µç›–å„å›½å„åœ°åŒºå„é¢†åŸŸï¼‰ã€å¤šæºç»“æ„åŒ–æ•°æ®ä¸å®æ—¶å’Œå†å²è¡Œæƒ…ï¼Œè‡ªåŠ¨æŠ½å–äº‹ä»¶ã€å®ä½“åŠå…¶å…³è”ï¼ŒåŠ¨æ€æ„å»ºå¯è§£é‡Šçš„çŸ¥è¯†å›¾è°±ï¼Œå¹¶é©±åŠ¨å¤šæ™ºèƒ½ä½“åä½œæ¨ç†ï¼Œæœ€ç»ˆè¾“å‡ºå…·å¤‡å½’å› è·¯å¾„çš„å¸‚åœºé¢„æœŸä¿¡å·ï¼Œç»“åˆå¼ºåŒ–å­¦ä¹ æ¨¡å‹å®ç°ä»â€œä¿¡æ¯â†’è®¤çŸ¥â†’è¡ŒåŠ¨â€çš„é—­ç¯ï¼Œä¸ºæŠ•èµ„è€…æä¾›å…¼å…·æ—¶æ•ˆæ€§ã€é€»è¾‘æ€§ä¸å¯éªŒè¯æ€§çš„è¾…åŠ©å†³ç­–æ”¯æŒã€‚

### å½“å‰è®¡åˆ’

- æ ¸å¿ƒï¼šçŸ¥è¯†å›¾è°±æ„å»º
   - å¦‚ä½•é˜²æ­¢é”™è¯¯è¡Œä¸ºï¼ˆæå–é”™è¯¯ã€é—æ¼ï¼Œå»é‡é”™è¯¯ï¼‰é€ æˆçš„æ•°æ®æ±¡æŸ“ï¼Ÿ
   - å¦‚ä½•æ”¹è¿›æå–ã€å»é‡çš„å‡†ç¡®æ€§ï¼Ÿ
   - æ¨¡å—åŠŸèƒ½ç‰¹åŒ–è§£è€¦ï¼Œæ›´å¤šåœ°å‘æ˜ç»†å°è€Œé‡è¦çš„æ¨¡å—
- æ¬¡è¦ï¼šå‰ç«¯ä¼˜åŒ–
- æ¬¡è¦ï¼šæ¨è¿›åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½

|åŠŸèƒ½|çŠ¶æ€| 
|---|:---:| 
|å…¨çƒæ–°é—»èµ„è®¯ï¼ˆå„å›½å„åœ°åŒºå„é¢†åŸŸï¼‰æ¥å…¥|&#x2705;| 
|å¤šæºç»“æ„åŒ–æ•°æ®ä¸å®æ—¶/å†å²è¡Œæƒ…æ•´åˆ|&#x2705;| 
|äº‹ä»¶ä¸å®ä½“è‡ªåŠ¨æŠ½å–åŠå…³è”åˆ†æ|&#x2705;| 
|åŠ¨æ€å¯è§£é‡ŠçŸ¥è¯†å›¾è°±æ„å»º|&#x2705;| 
|å¤šæ™ºèƒ½ä½“åä½œæ¨ç†ç³»ç»Ÿ|&#x274C;| 
|å…·å¤‡å½’å› è·¯å¾„çš„å¸‚åœºé¢„æœŸä¿¡å·ç”Ÿæˆ|&#x274C;| 
|å¼ºåŒ–å­¦ä¹ æ¨¡å‹é©±åŠ¨çš„å†³ç­–é—­ç¯|&#x274C;| 
|å¯éªŒè¯çš„è¾…åŠ©å†³ç­–æ”¯æŒè¾“å‡º|&#x274C;| 
|å¤šæ¸ é“ç»“æœæ¨é€ï¼ˆé‚®ç®±ã€å¾®ä¿¡ï¼‰|&#x274C;| 

## çŸ¥è¯†å›¾è°±æ„å»º

### æ™ºèƒ½ä½“æµæ°´çº¿è®¾è®¡

|é˜¶æ®µ|åŠŸèƒ½|çŠ¶æ€|
|---|---|:---:|
|å®ä½“æå–|ä»æ–°é—»ä¸­æå–å¸‚åœºç›¸å…³å®ä½“|&#x2705;|
|æ–°é—»æ‹“å±•|ä½¿ç”¨æå–çš„å®ä½“è·å–æ›´å¤šç›¸å…³æ–°é—»|&#x2705;|
|å›¾è°±æ„å»º|æ„å»ºå®ä½“-äº‹ä»¶-å¸‚åœºå½±å“çš„çŸ¥è¯†å›¾è°±|&#x2705;|
|å¸‚åœºåˆ†æ|åŸºäºçŸ¥è¯†å›¾è°±è¿›è¡Œå¸‚åœºé¢„æœŸåˆ†æ|&#x274C;|
|å¯è§†åŒ–|çŸ¥è¯†å›¾è°±å’Œåˆ†æç»“æœå¯è§†åŒ–|&#x2705;|

##### çŸ¥è¯†å›¾è°±æŠ€æœ¯ç»†èŠ‚

1. å¤šæºæ•°æ®æ¥å…¥
- ä»æ–°é—»ã€è¡Œæƒ…ã€å…¬å¼€ä¼ä¸šä¿¡æ¯ç­‰æ¸ é“æ”¶é›†åŸå§‹æ•°æ®
- ç”¨ç®€å•è„šæœ¬æˆ–è½»é‡æµå¤„ç†ï¼ˆå¦‚ Python + Redis / Kafkaï¼‰åšåˆæ­¥æ¸…æ´—å’Œå»é‡

2. å›¾è°±æ„å»ºæ–¹å¼
- æå–æ–°é—»ä¸­çš„å®ä½“ã€äº‹ä»¶æŠ½è±¡ã€å®ä½“ä¸äº‹ä»¶æŠ½è±¡çš„æ˜ å°„
- é€šè¿‡è§„åˆ™æˆ– NLP æ¨¡å‹ï¼ˆå¦‚ spaCyã€LTPã€BERTï¼‰æ‰©å±•å®ä½“å’Œäº‹ä»¶æŠ½è±¡
- å›¾è°±å­˜å‚¨æš‚ç”¨ JSON æˆ– SQLiteï¼ŒåæœŸå¯è¿ç§»åˆ° Neo4j ç­‰å›¾æ•°æ®åº“ã€‚

3. æ™ºèƒ½ä½“åä½œæµç¨‹ 
- ä»æ–°é—»ä¸­æŠ½å–å‡ºå®ä½“ â†’ ç”¨è¿™äº›å®ä½“å»æ£€ç´¢æ›´å¤šç›¸å…³æ–°é—» â†’ èšåˆäº‹ä»¶ â†’ æ„å»ºâ€œå®ä½“-äº‹ä»¶â€å…³è” â†’ æ¨å¯¼å¸‚åœºå½±å“

4. è¾“å‡ºä¸éªŒè¯
- æœ€ç»ˆç›®æ ‡æ˜¯ç”Ÿæˆå¯è§£é‡Šçš„æ¨å¯¼é“¾,è¿™ä¸ªæ¨å¯¼é“¾å¯ä»¥è¦†ç›–åˆ°æ‰€æœ‰å¸‚åœºå’Œæ‰€æœ‰é¢†åŸŸ
- æ‰€æœ‰é¢„æµ‹ä¼šè®°å½•å¹¶å›æº¯éªŒè¯ï¼Œé¿å…æ¨¡å‹å¹»è§‰

> ğŸ’¡ æ³¨ï¼šæ‰€æœ‰ç»„ä»¶è®¾è®¡ä¸ºæ¾è€¦åˆï¼ŒæŠ€æœ¯é€‰å‹å¯æ ¹æ®å®é™…èµ„æºè°ƒæ•´ï¼ˆä¾‹å¦‚ä¸ç”¨ Flinkã€ä¸ç”¨ OneKEã€ä¸ç”¨ Prophetï¼‰ï¼Œä¼˜å…ˆä¿è¯å¯è¿è¡Œå’Œå¯ç»´æŠ¤

## é¡¹ç›®ç»“æ„

    System/
    â”œâ”€â”€ main.py                   # ä¸»ç¨‹åºå…¥å£
    â”œâ”€â”€ app.py                    # Web åº”ç”¨å…¥å£
    â”œâ”€â”€ .gitignore
    â”œâ”€â”€ LICENSE
    â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜æ–‡æ¡£
    â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶ç›®å½•
    â”‚   â”œâ”€â”€ .env.example          # ç¯å¢ƒå˜é‡ (API Keys)
    â”‚   â”œâ”€â”€ config.yaml           # ä¸»é…ç½®æ–‡ä»¶
    â”‚   â””â”€â”€ pipelines/            # é¢„å®šä¹‰æµæ°´çº¿é…ç½®
    â”œâ”€â”€ data/                     # æ•°æ®å­˜å‚¨ç›®å½•
    â”‚   â”œâ”€â”€ config/               # è¿è¡Œæ—¶é…ç½®
    â”‚   â”‚   â”œâ”€â”€ entity_merge_rules.json # å®ä½“åˆå¹¶è§„åˆ™åº“
    â”‚   â”‚   â””â”€â”€ templates/        # Pipeline æ¨¡æ¿
    â”‚   â”œâ”€â”€ tmp/                  # ä¸´æ—¶æ–‡ä»¶å¤¹
    â”‚   â”‚   â”œâ”€â”€ raw_news/
    â”‚   â”‚   â””â”€â”€ deduped_news/
    â”‚   â”œâ”€â”€ logs/                 # ç³»ç»Ÿæ—¥å¿—
    â”‚   â”œâ”€â”€ entities.json         # å®ä½“åº“
    â”‚   â”œâ”€â”€ events.json           # äº‹ä»¶åº“
    â”‚   â”œâ”€â”€ knowledge_graph.json  # çŸ¥è¯†å›¾è°±æ•°æ®
    â”‚   â””â”€â”€ stop_words.txt        # åœç”¨è¯è¡¨
    â”œâ”€â”€ pages/                    # Streamlit é¡µé¢
    â”‚   â”œâ”€â”€ 1_Dashboard.py        # ä»ªè¡¨ç›˜
    â”‚   â”œâ”€â”€ 2_Pipeline_Builder.py # ä»»åŠ¡æ„å»ºå™¨
    â”‚   â”œâ”€â”€ 3_Data_Inspector.py   # æ•°æ®æŸ¥çœ‹å™¨
    â”‚   â””â”€â”€ 4_Knowledge_Graph.py  # å›¾è°±å¯è§†åŒ–
    â””â”€â”€ src/                      # æºä»£ç ç›®å½•
        â”œâ”€â”€ agents/               # æ™ºèƒ½ä½“æ¨¡å—
        â”‚   â”œâ”€â”€ agent1.py         # æå–ä¸å»é‡æ™ºèƒ½ä½“
        â”‚   â”œâ”€â”€ agent2.py         # æ‹“å±•æœç´¢æ™ºèƒ½ä½“
        â”‚   â”œâ”€â”€ agent3.py         # å›¾è°±ç»´æŠ¤ä¸åˆå¹¶æ™ºèƒ½ä½“
        â”‚   â””â”€â”€ api_client.py     # LLM API å®¢æˆ·ç«¯
        â”œâ”€â”€ core/                 # æ ¸å¿ƒæ¡†æ¶
        â”‚   â”œâ”€â”€ engine.py         # ä»»åŠ¡æ‰§è¡Œå¼•æ“
        â”‚   â”œâ”€â”€ context.py        # æ‰§è¡Œä¸Šä¸‹æ–‡ç®¡ç†
        â”‚   â””â”€â”€ registry.py       # å·¥å…·æ³¨å†Œä¸­å¿ƒ
        â”œâ”€â”€ data/                 # æ•°æ®å±‚
        â”‚   â”œâ”€â”€ api_client.py     # æ•°æ®æº API å®¢æˆ·ç«¯
        â”‚   â””â”€â”€ news_collector.py # æ–°é—»é‡‡é›†å™¨
        â”œâ”€â”€ functions/            # åŸå­åŠŸèƒ½åº“ (Pipeline Tools)
        â”‚   â”œâ”€â”€ data_fetch.py     # æ•°æ®è·å–å·¥å…·
        â”‚   â”œâ”€â”€ extraction.py     # æå–å·¥å…·
        â”‚   â”œâ”€â”€ graph_ops.py      # å›¾è°±æ“ä½œå·¥å…·
        â”‚   â””â”€â”€ reporting.py      # æŠ¥å‘Šç”Ÿæˆå·¥å…·
        â”œâ”€â”€ web/                  # Web è¾…åŠ©æ¨¡å—
        â”‚   â”œâ”€â”€ config.py         # Web é…ç½®
        â”‚   â””â”€â”€ utils.py          # Web é€šç”¨å·¥å…·
        â””â”€â”€ utils/                # é€šç”¨å·¥å…·
            â”œâ”€â”€ tool_function.py  # åŸºç¡€å·¥å…·é›†
            â””â”€â”€ entity_updater.py # å®ä½“æ›´æ–°é€»è¾‘


## å¸‚åœºåˆ†ææ™ºèƒ½ä½“

è¯¥é¡¹ç›®é‡‡ç”¨å¯è§£é‡Šçš„å¸‚åœºåˆ†ææ¨¡å‹ï¼Œé¿å…ä¼ ç»Ÿé»‘ç›’æ¨¡å‹çš„å±€é™æ€§ï¼š

- åŸºäºçŸ¥è¯†å›¾è°±çš„æ¨ç†è¿‡ç¨‹å¯è¿½æº¯
- åˆ†æç»“æœæä¾›æ˜ç¡®çš„å› æœå…³ç³»
- æ”¯æŒå¤šæºæ•°æ®çš„èåˆåˆ†æ
- ç»“æœå¯éªŒè¯å’Œå›æº¯

## è¿è¡Œè¯´æ˜

### ç¯å¢ƒé…ç½®

1. å®‰è£…ä¾èµ–ï¼š
   ```bash
   pip install -r requirements.txt
   ```

2. é…ç½®æ–‡ä»¶ï¼š
   - ä¿®æ”¹ `config/config.yaml` é…ç½®æ•°æ®æºå’Œåˆ†æå‚æ•°
   - è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚APIå¯†é’¥ï¼‰

3. è¿è¡Œä¸»ç¨‹åºï¼š
   ```bash
   python main.py
   streamlit run app.py
   ```

4. æ™ºèƒ½ä½“æ¨¡å—åŒ–ç¨‹åºï¼š
   ```bash
   python src.agents.agent1
   python src.agents.agent2
   python src.agents.agent3
   ```

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## è®¸å¯è¯

[Apache License 2.0](LICENSE)
