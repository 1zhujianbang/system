### 需求清单

|需求|状态| 
|---|:---:| 
|加密货币市场新闻资讯API接入|&#x2705;| 
|历史几年K线数据（日线、周线、月线）获取|&#x2705;| 
|利用历史数据训练模型：PPO或等价/混合算法|&#x2705;|
|模型分析实时数据，输出信号（拟合无意义）|&#x1F512;|
|市场数据、新闻构建知识图谱|&#x274C;|
|知识图谱异步输入到智能体及输出分析结果|&#x274C;| 
|根据分析结果推送消息到邮箱、微信公众号|&#x274C;| 
|摸鱼|&#x2705;| 

### 构建知识图谱

|需求|状态|
|---|:---:|
|建立数据源库，涵盖各国各地区各企业各领域|&#x274C;|
|设计四层智能体流水线（关联词提取→新闻拓展→图谱构建→市场预期）|&#x274C;|
|一：单一事件关键词提取|&#x2705;|
|二：关键词拓展新闻|&#x274C;|
|三：一、二迭代以构建图谱|&#x274C;|
|四：市场预期分析及验证|&#x274C;|
|可视化拓展|&#x274C;|

##### 知识图谱技术细节

1. 多源数据接入
- 从新闻、行情、公开企业信息等渠道收集原始数据
- 用简单脚本或轻量流处理（如 Python + Redis / Kafka）做初步清洗和去重

2. 图谱构建方式
- 提取新闻中的实体、事件抽象、实体与事件抽象的映射
- 通过规则或 NLP 模型（如 spaCy、LTP、BERT）扩展实体和事件抽象
- 图谱存储暂用 JSON 或 SQLite，后期可迁移到 Neo4j 等图数据库。

3. 智能体协作流程 
- 从新闻中抽取出实体 → 用这些实体去检索更多相关新闻 → 聚合事件 → 构建“实体-事件”关联 → 推导市场影响

4. 输出与验证
- 最终目标是生成可解释的推导链（例如：“某国监管收紧 → 某交易所下架代币 → 该代币价格下跌”）,这个推导链可以拓展到其他市场和领域
- 所有预测会记录并回溯验证，避免模型幻觉

> 💡 注：所有组件设计为松耦合，技术选型可根据实际资源调整（例如不用 Flink、不用 OneKE、不用 Prophet），优先保证可运行和可维护

### 项目结构

    System/
    ├── main.py                   # 主程序入口
    ├── fatch_data.py             # 历年数据获取脚本
    ├── .gitignore
    ├── LICENSE
    ├── README.md                 # 项目说明文档
    ├── config/                   # 配置文件目录
    │   ├── .env                  # 环境变量配置
    │   └── config.yaml           # 主配置文件
    ├── data/                     # 数据文件目录
    │   ├── deduped_news/         # 去重新闻数据目录
    │   ├── logs/                 # 日志
    │   ├── raw_news/             # 临时新闻数据目录
    │   ├── entities.json         # 实体库
    │   ├── processed_ids         # 新闻索引表
    │   └── stop_words.txt        # 停用词列表
    ├── models/                   # 模型文件目录
    │   ├── data/                 # 训练数据目录
    │   │    ├── 1D/              # 日线数据
    │   │    ├── 1W/              # 周线数据
    │   │    └── 1M/              # 月线数据
    │   ├── pth/                  # 训练模型缓存目录
    │   ├── ppo_agent.py          # 训练脚本
    │   ├── example.py            # 模型示例代码
    │   └── transformer_v2_7d.pt  # 示例模型文件
    └── src/                      # 源代码目录
        ├── __init__.py
        ├── agents/               # 智能体模块
        │   ├── agent1.py         # 智能体一
        │   └── trading_agent.py  # 交易智能体
        ├── analysis/             # 分析模块
        │   └── technical_calculator.py # 技术指标计算器
        ├── config/               # 配置管理
        │   └── config_manager.py # 配置管理器
        ├── data/                 # 数据模块
        │   ├── data_collector.py # 数据收集器
        │   ├── news_collector.py # 新闻收集器
        │   ├── RESTful-API-main/ # 新闻API文档
        │   └── websocket_collector.py # WebSocket实时数据
        ├── models/               # 模型管理
        │   └── model_loader.py   # 模型加载器
        └── utils/                # 工具模块
            └── validators.py     # 验证工具（当前为空）


### 转发代理IP白名单

提交被限制IP到issue中即可，管理员会添加至白名单

或者通过地址 data_config.proxy/admin/ 登录后台
白名单账号:admin 密码:pwdcantsimple 该账号可对白名单IP进行CLUD

### 根据学习模型结果得出的结论

- 学习模型只会数学形态拟合，没有任何实际意义
