### 需求清单

|需求|状态| 
|---|:---:| 
|加密货币市场新闻资讯API接入|&#x2705;| 
|历史几年K线数据（日线、周线、月线）获取|&#x2705;| 
|利用历史数据训练模型：PPO或等价/混合算法|&#x2705;|
|模型分析实时数据，输出信号（拟合无意义）|&#x1F512;|
|市场数据、新闻构建知识图谱|&#x274C;|
|知识图谱异步输入到智能体及输出分析结果|&#x274C;| 
|根据分析结果推送消息到邮箱、微信公众号|&#x274C;| 
|摸鱼|&#x2705;| 

### 构建知识图谱

|需求|状态|
|---|:---:|
|建立数据源库，涵盖各国各地区各企业各领域|&#x274C;|
|设计四层智能体流水线（关联词提取→新闻拓展→图谱构建→市场预期）|&#x274C;|
|一：单一事件关键词提取|&#x2705;|
|二：关键词拓展新闻|&#x274C;|
|三：一、二迭代以构建图谱|&#x274C;|
|四：市场预期分析及验证|&#x274C;|
|可视化拓展|&#x274C;|

##### 知识图谱技术细节，实际开发各技术均可替代

1. **多源数据融合平台**  
   - 接入新闻资讯、工商司法、市场价格等异构数据源，部署实时流处理引擎（如Flink）保障数据鲜度（延迟≤5分钟）；  
   - 开发实体对齐服务（基于BERT-wwm）与关系冲突检测模块，确保知识输入准确率≥95%。  

2. **动态知识图谱引擎**  
   - 采用Neo4j构建企业-事件图谱，支持增量更新与可信度传播计算（路径权重动态衰减）；  
   - 集成`OneKE`框架实现中文实体抽取，并通过`kg-gen`聚类算法补全隐含关联。  

3. **智能体协作与验证体系**  
   - 设计四层智能体流水线（关联词提取→新闻拓展→图谱构建→市场预期），部署主动学习机制，对低置信度推导（≤0.6）自动触发人工复核；  
   - 建立预期回溯系统，每日校验股价预测准确率，若连续3日低于70%则触发模型重训练。  

4. **市场推导与可视化**  
   - 开发传导路径分析器（支持3层关系链挖掘）与价格预测模块（Prophet+残差校准）；  
   - 提供可视化看板，展示知识图谱、预期置信度及归因路径（如“锂矿涨价→电池成本↑→车企毛利率↓”）。

### 项目结构

    System/
    ├── main.py                   # 主程序入口
    ├── fatch_data.py             # 历年数据获取脚本
    ├── .gitignore
    ├── LICENSE
    ├── README.md                 # 项目说明文档
    ├── config/                   # 配置文件目录
    │   ├── .env                  # 环境变量配置
    │   └── config.yaml           # 主配置文件
    ├── data/                     # 数据文件目录
    │   ├── crypto_entities.json  # 实体库
    │   ├── pending_entities.json # 待处理实体库
    │   └── stop_words.txt        # 停用词列表
    ├── models/                   # 模型文件目录
    │   ├── data/                 # 训练数据目录
    │   │    ├── 1D/              # 日线数据
    │   │    ├── 1W/              # 周线数据
    │   │    └── 1M/              # 月线数据
    │   ├── pth/                  # 训练模型缓存目录
    │   ├── ppo_agent.py          # 训练脚本
    │   ├── example.py            # 模型示例代码
    │   └── transformer_v2_7d.pt  # 示例模型文件
    └── src/                      # 源代码目录
        ├── __init__.py
        ├── agents/               # 智能体模块
        │   ├── agent1.py         # 智能体一
        │   └── trading_agent.py  # 交易智能体
        ├── analysis/             # 分析模块
        │   └── technical_calculator.py # 技术指标计算器
        ├── config/               # 配置管理
        │   └── config_manager.py # 配置管理器
        ├── data/                 # 数据模块
        │   ├── data_collector.py # 数据收集器
        │   ├── news_collector.py # 新闻收集器
        │   ├── RESTful-API-main/ # 新闻API文档
        │   └── websocket_collector.py # WebSocket实时数据
        ├── models/               # 模型管理
        │   └── model_loader.py   # 模型加载器
        └── utils/                # 工具模块
            └── validators.py     # 验证工具（当前为空）


### 转发代理IP白名单

提交被限制IP到issue中即可，管理员会添加至白名单

或者通过地址 data_config.proxy/admin/ 登录后台
白名单账号:admin 密码:pwdcantsimple 该账号可对白名单IP进行CLUD

### 根据学习模型结果得出的结论

- 学习模型只会数学形态拟合，没有任何实际意义
